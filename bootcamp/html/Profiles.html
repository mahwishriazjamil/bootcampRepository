<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Profiles</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
    <!-- <script src="/__/firebase/5.4.1/firebase-app.js"></script>
    <script src="/__/firebase/5.4.1/firebase-auth.js"></script>
    <script src="/__/firebase/init.js"></script> -->
    <script src ="./functions.js"></script>

    <script>  
    //   var config = {
    //     apiKey: "AIzaSyD3dPT-gwDrtBnvo9_DQwlRVFL2IQ05RzM",
    //     authDomain: "rtesbootcamp.firebaseapp.com",
    //     databaseURL: "https://rtesbootcamp.firebaseio.com",
    //     projectId: "rtesbootcamp",
    //     storageBucket: "rtesbootcamp.appspot.com",
    //     messagingSenderId: "623287477132"
    //   };

    // // Initialize your Firebase app
    // firebase.initializeApp(config);
    // console.log()

    //Initialize Firebase
    
    initializeFirebase();
    //autoSignOut();
    </script>

    <div class="container">
      <h2>Profiles</h2>
        <p>This is a list of profiles which have been been created...</p>    
        <a href="#" class="pull-right">Delete User</a>     
        <a href="#" class="pull-right">Edit User| </a> 
        <a href="./createRCSNewProfile.html" class="pull-right">Add User| </a>
        
        <script>
          // firebase.database().ref('RCS_Users/').once('WeMuLeKoZmMnWBU5irdf', function(snap){
          // console.log(JSON.stringify(snap.val()))})

        var Firstname   = ["hello","February","March","April", "May", "a"];
        var Lastname    = ["January","February","March","April", "May", "b"];
        var MSISDN      = ["January","February","March","April", "May", "c"];
        var MCC         = ["January","February","March","April", "May", "d"];
        var IMS         = ["January","February","March","April", "May", "e"]; 

        firebase.database().ref('RCS_Users/').once('value', function(snap) {

          snap.forEach( function (childNodes) {
            var data  = JSON.parse(JSON.stringify(childNodes.val()))
            for (key in data) { var i = 1

               Firstname[i] = data[key];
               Lastname[i]  = data[key];
               MSISDN[i]    = data[key];
               MCC[i]       = data[key];
               IMS[i]       = data[key];
               i = i + 1; 
               console.log(Firstname)

            }
          })
        })
        
          document.write("<table width=700  class=\"table table-bordered\">");
          document.write("<tr><th>Firstname</th><th>Lastname</th><th>MSISDN</th><th>MCC</th><th>IMS</th></tr>");
  
          for(var i=0; i<MSISDN.length; i++) {
            document.write("<tr><td>"  + Firstname[i] + "</td><td>" + Lastname[i])
            document.write("</td><td>" + MSISDN[i]    + "</td><td>" + MCC[i] +"</td><td>"+ IMS[i] +"</td><tr>")
          }
          document.write("</table>")
        </script>

        <button class="btn btn-default" onclick="signOut();">Sign Out</button>

        </div>
    </body>
  </body>
</html>